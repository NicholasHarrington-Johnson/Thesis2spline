install.packages(c("colorspace", "forecast", "manipulate", "mgcv", "Rcpp"))
r2$reservation_datetime[1:10]
# Load required packages
library(data.table)
library(dplyr)
library(timeDate)
# Read raw data
eztable <- fread("booking_top30_restaurants_all.txt")
# Remove weird numbers. Negative people, or more than 10000 people, in a single booking.
# Probably errors
eztable <- filter(eztable, people > 0, people < 1e4)
# Remove cancellations
eztable <- filter(eztable, status!="canceled" & status!='no-show')
# List of restaurants in order of popularity
restaurants <- rev(sort(table(eztable[,restaurant_id])))
# Just look at one restaurant. Could be any of them.
# Pick the second most popular as an example
r2 <- subset(eztable, restaurant_id==names(restaurants)[2])
install.packages("shiny")
install.packages(c("colorspace", "manipulate"))
source('~/R/3.03.15/read (1).R')
source('C:/Users/Nicholas/Google Drive/Honours/ETC4860/Rcode/read (1).R')
source('C:/Users/Nicholas/Google Drive/Honours/ETC4860/Rcode/24.03.2014/callall.R')
source('C:/Users/Nicholas/Google Drive/Honours/ETC4860/Rcode/13.04.2015/callall.R')
source('C:/Users/Nicholas/Google Drive/Honours/ETC4860/Rcode/2015.07.21/packages.R')
source('C:/Users/Nicholas/Google Drive/Honours/ETC4860/Rcode/2015.07.22/main.R')
setwd("~/GitHub/ThesisCode")
source("packages.R")
## Loading functions
source("function.R")
## Reading data
eztable <- fread("booking_top30_restaurants_all.txt")
rm(list=ls())
## Loading packages
source("packages.R")
## Reading data
eztable <- fread("booking_top30_restaurants_all.txt")
## Loading functions
source("function.R")
## Public Holidays
phols <- fread("Public_Holidays_Scaled.csv")
phols <- readph(phols)
## Bookings
r <- clean(eztable)
## Truncating data
tr <- truncatep(r)
for(i in 1:16)
{
plotpub(tr[[i]]$X0,tr[[i]]$pubd,tr[[i]]$pubi,tr[[i]]$pubny,i)
}
out <- bmod(tr)
print(out)
for (i in 1:16)
{
arimah(tr[[i]],7)
}
h <- c(1,7)
k <- c(18,30)
aicc <- choose_k(h,k,tr[[3]])
print(aicc)
for (i in 1:16)
{
nam <- paste("Restaurant_", i, sep = "")
assign(nam, arimah(tr[[i]],7))
}
